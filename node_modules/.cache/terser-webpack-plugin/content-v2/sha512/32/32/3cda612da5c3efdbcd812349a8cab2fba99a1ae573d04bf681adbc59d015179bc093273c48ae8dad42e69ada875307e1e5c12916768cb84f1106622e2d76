{"code":"!function(e){var t={};function r(i){if(t[i])return t[i].exports;var s=t[i]={i:i,l:!1,exports:{}};return e[i].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=e,r.c=t,r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},r.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var s in e)r.d(i,s,function(t){return e[t]}.bind(null,s));return i},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,\"a\",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p=\"\",r(r.s=0)}([function(e,t,r){\"use strict\";r.r(t);class i{constructor(e,t){this.setPosition(e),this.setSize(t)}setSize(e){this.size=e<0?0:e}setPosition(e){this.position=e}setStrokeColor(e){this.strokeColor=e}setFillColor(e){this.fillColor=e}setStrokeWidth(e){this.strokeWidth=e}canRender(){for(let e of this.position)if(Number.isFinite(e)||e<0)throw TypeError(\"Position value should be a positive number!\");return Number.isFinite(this.size)}render(e){throw Error(\"This method cannot be called\")}}const s={circle:class extends i{render(e){e.beginPath(),e.arc(0,0,this.size/2,0,2*Math.PI,!1),e.fillStyle=this.fillColor,e.fill(),e.lineWidth=this.strokeWidth,e.strokeStyle=this.strokeColor,e.stroke()}},square:class extends i{render(e){e.beginPath(),e.rect(-this.size/2,-this.size/2,this.size,this.size),e.fillStyle=this.fillColor,e.fill(),e.lineWidth=this.strokeWidth,e.strokeWidth=this.strokeColor,e.stroke()}}};const n={currentFillColor:\"#000\",currentStrokeColor:\"#000\",currentStrokeWidth:2,currentSize:100};const o=document.querySelector(\"#main-canvas\"),c=new class{constructor(e){this.canvas=e,this.ctx=e.getContext(\"2d\"),this.shapes=[],this.render()}addShape(e){e&&!this.shapes.includes(e)&&this.shapes.push(e)}setCurrentShape(e){this.currentShape=e}clear(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)}renderShape(e){e.canRender()&&(this.ctx.save(),this.ctx.translate(e.position.x,e.position.y),e.render(this.ctx),this.ctx.restore())}render(){requestAnimationFrame(()=>{this.clear(),this.shapes.forEach(e=>{this.renderShape(e)}),this.currentShape&&this.renderShape(this.currentShape),this.render()})}}(o);function l(e,t){const r=new e(t,n.currentSize);return r.setFillColor(n.currentFillColor),r.setStrokeColor(n.currentStrokeColor),r.setStrokeColor(n.currentStrokeColor),r}o.addEventListener(\"mousemove\",e=>{if(c.currentShape){const t={x:e.clientX,y:e.clientY};c.currentShape.setPosition(t)}}),o.addEventListener(\"click\",e=>{if(c.currentShape){const t={x:e.clientX,y:e.clientY},r=c.currentShape.constructor;c.addShape(c.currentShape),c.setCurrentShape(l(r,t))}}),document.addEventListener(\"click\",e=>{const t=e.target.dataset.shape;t&&s.hasOwnProperty(t)&&c.setCurrentShape(l(s[t]))})}]);","extractedComments":[]}